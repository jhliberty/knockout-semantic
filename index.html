<!DOCTYPE html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <title>KnockoutJS + Semantic-UI</title>

    <meta name="description" content="It takes a village"/>
    <meta name="keywords" content="html5, ui, library, framework, javascript, knockout"/>


    <link rel="stylesheet" href="lib/semantic.css"/>
<!--    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
          rel='stylesheet' type='text/css'>-->


    <link rel="stylesheet" href="lib/prettify.css"/>
    <link rel="stylesheet" href="css/docs.css"/>
</head>
<body>

<!-- TOGGLE -->
<div class="container">
    <header class="ui segment">
        <h1>Where Knockout meets Semantic-UI</h1>
    </header>
    <div class="ui segment">
        <h3>A simple toggle:</h3>

        <div class="ui two column grid">
            <div class="column">
                <div class="ui button toggle sample" data-bind="toggle: toggle, text: toggle">Toggle Me</div>

                <hr>

                <p>Like all of these modules, you can use a static value or an observable.</p>
            </div>
            <div class="column codeTarget"></div>
        </div>

        <dl class="parameters">
            <dt>toggle</dt>
            <dd class="types">Boolean</dd>
            <dd>the state (true or false) of the element</dd>
        </dl>
    </div>
</div>

<!-- STEPS -->
<div class="container">
    <div class="ui segment">
        <h3>Steps:</h3>

        <div class="ui two column grid">
            <div class="column">
                <div class="ui steps sample"
                     data-bind="steps: {data: ['One', 'Two', 'Three'], active: 'Two'}"></div>


            <hr>

            <p>
                <code>active</code> could be "Two", 1, or an observable holding either.
            </p>
            <p>We have a template for this, but you're welcome to use a foreach binding to get
            a little more control.</p>

            </div>
            <div class="column codeTarget">
            </div>
        </div>

        <dl class="parameters">
            <dt>data</dt>
            <dd class="types">Array[String]</dd>
            <dd>a list of step labels</dd>

            <dt>active</dt>
            <dd class="types">Number | String</dd>
            <dd>The index or value of the active step, e.g. 1 or "Two"</dt>
        </dl>
    </div>
</div>

<!-- Modal -->
<div class="container">
    <div class="ui segment">
        <h3>Modal:</h3>

        <div class="ui two column grid">
            <div class="column">

                <div class="ui modal sample"
                     data-bind="modal: {
                     title: 'My Modal',
                     content: 'I am a <strong>MODAL!!!</strong>',
                     show: shouldTheModalBeVisible,
                     buttons: [
                        cancelButton,
                        okButton
                     ]
                }"></div>


                <div class="ui button toggle" data-bind="toggle: shouldTheModalBeVisible">Show the Modal</div>
            </div>
            <div class="column codeTarget">
            </div>
        </div>

        <dl class="parameters">
            <dt>title</dt>
            <dd class="types">String (optional)</dd>
            <dd>title for the modal</dd>

            <dt>content</dt>
            <dd class="types">String (optional)</dd>
            <dd>The HTML content of the modal.  <strong>data-bind</strong> works,
                but you must use $root or $parent to access your ViewModel</dd>

            <dt>show</dt>
            <dd class="types">Boolean</dd>
            <dd>The model's visiblity.  Change an observable to change the value.  This is also updated if the
                modal is shown or closed elsewhere in the code.</dd>

            <dt>buttons</dt>
            <dd class="types">Array[Action]</dd>
            <dd>The names and behavisrcors for the buttons at the bottom of the modal.</dd>


        </dl>
    </div>
</div>

<script type="text/javascript" src="lib/jquery.min.js"></script>
<script type="text/javascript" src="lib/semantic.js"></script>
<script type="text/javascript" src="lib/knockout-min.js"></script>
<script type="text/javascript" src="build/knockout-semantic.js"></script>
<script type="text/javascript" src="lib/prettify.js"></script>
<script type="text/javascript" src="lib/beautify-html.js"></script>
<!--<script type="text/javascript" src="src/docs/docs.js"></script>-->
<script type="text/javascript">

    makeTheCodeAllPretty();

    ko.applyBindings(k = {
        toggle: ko.observable(true),
        shouldTheModalBeVisible: ko.observable(false),
        okButton: new semantic.Action("Sure", function (data, e) {
            
        }),
        cancelButton: new semantic.Action("Cancel!", function () {
            
        })
    });

    function makeTheCodeAllPretty(){
        // Some formatting for the code snippets
        $('.codeTarget').each(function () {
            var $els = $(this).prev().find(".sample").clone().removeClass('sample');
            var code = $("<p>").append($els).html();
            console.log(code);
            var $pre = $("<pre class='prettyprint lang-html'>");

            code = html_beautify(code, {


            });

            code = code.replace(/[<"]|data-bind|>(?=\s*\w)/g,function (m) {
                switch ( m ) {
                    case "<":
                        return "\n&lt;";
                    case ">":
                        return "&gt;\n  ";
                    case '"':
                        return "&quot;";
                    case "data-bind":
                        return "\n     data-bind";
                }
            }).trim();

            $pre.html(code);
            $(this).append($pre);
        });

        prettyPrint();
    }

</script>

</body>
</html>